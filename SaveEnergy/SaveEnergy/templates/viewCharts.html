<script>

	function getRandomColor() {
		var letters = '0123456789ABCDEF'.split('');
		var color = '#';
		for (var i = 0; i < 6; i++ ) {
			color += letters[Math.round(Math.random() * 15)];
		}
		return color;
	}

	window.onload = function () {
		chart.render();
	}	
		window['{{userID}}'+"PieChart"] = [];
		window['{{userID}}'+"BarChart"] = [];
		window['{{userID}}'+"RadarChart"] = [];
		window['{{userID}}'+"barDataSets"] = [];
		window['{{userID}}'+"barData"] = [];
		window['{{userID}}'+"radarDataSets"] =[];
		window['{{userID}}'+"radarData"] = [];
		window['{{userID}}barDataPoints']=[];

		{% for device,usage in devices_and_usage %}
			window['{{userID}}'+"PieChart"] = window['{{userID}}'+"PieChart"].concat({ label:'{{device.name}}',y: ((parseInt('{{usage}}') / {{total_usage}})*100)});
		{% endfor %}

		{% for c in devicesLoopCounter %}
			window['{{userID}}'+'barDataPoints'] = window['{{userID}}'+'barDataPoints'].concat(
					{
						indexLabelPlacement: "inside",
						type: "column",
				        showInLegend: true,
				        legendText: {{devicesName|safe}}[{{c}}],
						dataPoints:[
							{% for counter in MonthsloopCounter %}
								{
									y:{{devicesMonthlyUsage}}[{{counter}}][{{c}}],
									indexLabel:{{devicesMonthlyUsage}}[{{counter}}][{{c}}]+'',
									label:{{monthsChosenString|safe}}[{{counter}}]
									
								},
							{% endfor %}
						]
					}
				); 
			
		{% endfor %}
		
		window['{{userID}}Piechart'] = new CanvasJS.Chart("{{userID}}PieCanvas", {
			theme: "theme2",//theme1
			title:{
				text: "Total energy usage within the dates entered"              
			},
			data: [              
				{
				type: "pie",
				dataPoints: window['{{userID}}'+"PieChart"]
				}
			]
		});

		window['{{userID}}Barchart'] = new CanvasJS.Chart("{{userID}}BarCanvas", {
			theme: "theme1",//theme1
			title:{
				text: "Total energy usage within the dates entered sorted monthly"             
			},
			data:window['{{userID}}'+'barDataPoints']
      	});

</script>
<div id="{{userID}}charts" class="chartContainer">
	<div id="{{userID}}PieCanvas" style="width:40%;height:40%"></div>
	<div id="{{userID}}BarCanvas" style="width:40%;height:40%"></div>
	<div id="{{userID}}RadarCanvas" style="width:40%;height:40%"></div>
</div>